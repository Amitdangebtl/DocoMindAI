@model MVCSimpleUplode.Models.DocumentViewModel
@{
    ViewBag.Title = "View Document";
}

<style>
    /* ===== HEADER ===== */
    .doc-header {
        background: linear-gradient(135deg, #1e40af, #2563eb, #4f46e5);
        color: #ffffff;
        padding: 22px 26px;
        border-radius: 16px;
        box-shadow: 0 18px 40px rgba(30,64,175,0.35);
        margin-bottom: 20px;
    }

    /* ===== READER CARD ===== */
    .doc-container {
        background: rgba(255,255,255,0.95);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        padding: 28px;
        box-shadow: 0 20px 45px rgba(15,23,42,0.15);
        line-height: 1.7;
        font-size: 15px;
        color: #0f172a;
    }

    /* ===== SECTIONS ===== */
    .doc-section {
        margin-bottom: 26px;
    }

        .doc-section h5 {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 12px;
            padding-left: 14px;
            border-left: 4px solid #2563eb;
        }

    .doc-text {
        white-space: pre-wrap;
        color: #334155;
    }

    /* ===== BACK BUTTON ===== */
    .btn-back {
        background: linear-gradient(90deg, #64748b, #475569);
        border: none;
        color: #ffffff;
        border-radius: 10px;
        padding: 10px 24px;
        font-weight: 600;
    }
</style>

<div class="container mt-4">

    <!-- ===== HEADER ===== -->
    <div class="doc-header">
        <h4 class="mb-0">📄 @Model.FileName</h4>
    </div>

    <!-- ===== DOCUMENT VIEW ===== -->
    <div class="doc-container">

        @{
            var text = Model.Text ?? "";

            string Section(string title)
            {
                return $"##{title}##";
            }

            text = text
            .Replace("Career Objective", Section("Career Objective"))
            .Replace("Education", Section("Education"))
            .Replace("Technical Skills", Section("Technical Skills"))
            .Replace("Experience", Section("Experience"))
            .Replace("Project Experience", Section("Project Experience"))
            .Replace("Certifications", Section("Certifications"));

            var parts = text.Split("##", StringSplitOptions.RemoveEmptyEntries);
        }

        @foreach (var part in parts)
        {
            if (part.Contains("\n"))
            {
                var index = part.IndexOf("\n");
                var heading = part.Substring(0, index).Trim();
                var content = part.Substring(index).Trim();

                <div class="doc-section">
                    <h5>@heading</h5>
                    <div class="doc-text">@content</div>
                </div>
            }
            else
            {
                <div class="doc-text">@part</div>
            }
        }

    </div>

    <!-- ===== BACK BUTTON ===== -->
    <div class="mt-4 text-center">
        <a asp-action="MyDocuments" class="btn btn-back">
            ⬅ Back to My Documents
        </a>
    </div>

</div>